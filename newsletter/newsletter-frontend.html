<!doctype html>
<html lang="de">

<head>
  <title>COVID-19 Newsletter Konfiguration</title>
  <meta charset="utf-8">
  <meta name="author" content="Dr. Torben Menke">
  <link rel="stylesheet" href="/style.css" />
</head>

<body>

  <h1>COVID-19 Newsletter Konfiguration</h1>
  <script>


    // from https://stackoverflow.com/questions/4297765/make-a-javascript-array-from-url 
    // needed as 
    // const urlParams = new URLSearchParams(window.location.search); 
    // is not available in Edge and IE :-(
    function URLToParameterArray(url) {
      var request = {};
      var pairs = url.substring(url.indexOf('?') + 1).split('&');
      for (var i = 0; i < pairs.length; i++) {
        if (!pairs[i])
          continue;
        var pair = pairs[i].split('=');
        request[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
      }
      return request;
    }


    // This dirty workaround is needed for Edge and IE :-(
    var urlParams = [];
    if ('search' in window.location) {
      urlParams = URLToParameterArray(window.location.search);
    } else {
      alert("Error: Hash Parameter fehlt!");
    }

    if ('hash' in urlParams) {
      document.write("hash: " + urlParams.hash)
    } else {
      alert("Error: Hash Parameter fehlt!");
    }

  </script>
  <!-- asf -->
  <hr>
  <a href="/">Home</a> - <a href="/contact.php?origin=COVID-19">Contact</a> - <a href="/impressum.php">Impressum</a>
</body>

</html>